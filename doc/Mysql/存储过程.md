## 存储过程

#### 优点

- 增强SQL语言的功能和灵活性：存储过程可以用控制语句编写，有很强的灵活性，可以完成复杂的判断和较复杂的运算。
- 标准组件式编程：存储过程被创建后，可以在程序中被多次调用，而不必重新编写该存储过程的SQL语句。而且数据库专业人员可以随时对存储过程进行修改，对应用程序源代码毫无影响
- 较快的执行速度：如果某一操作包含大量的Transaction-SQL代码或分别被多次执行，那么存储过程要比批处理的执行速度快很多。因为存储过程是预编译的。在首次运行一个存储过程时查询，优化器对其进行分析优化，并且给出最终被存储在系统表中的执行计划。而批处理的Transaction-SQL语句在每次运行时都要进行编译和优化，速度相对要慢一些。
- 减少网络流量：针对同一个数据库对象的操作（如查询、修改），如果这一操作所涉及的Transaction-SQL语句被组织进存储过程，那么当在客户计算机上调用该存储过程时，网络中传送的只是该调用语句，从而大大减少网络流量并降低了网络负载。
- 作为一种安全机制来充分利用：通过对执行某一存储过程的权限进行限制，能够实现对相应的数据的访问权限的限制，避免了非授权用户对数据的访问，保证了数据的安全。

#### 版本

- Mysql Version >= 5.0


#### 简单调用存储过程
```
DELIMITER //
CREATE PROCEDURE user_add (
	IN P_NAME varchar(255),
	IN P_PASSWORD varchar(255),
	IN P_realname varchar(255),
	IN P_phone varchar(255)
)
BEGIN
	INSERT INTO test_user (NAME,PASSWORD,realname,phone)VALUES(P_NAME,P_PASSWORD,P_realname,P_phone) ; 
    INSERT INTO test_role (NAME, CODE, description)VALUES('1111','SWAW','11231313123');
    INSERT INTO test_log (model,sub_model,operation,user_id,is_status,description)VALUES('1111','SWAW','11231313123',155,'Y','这是一条描述') ;
END ;//
DELIMITER ;
```


#### 显示存储过程创建语句
- show CREATE PROCEDURE user_add;

#### 删除存储过程
- DROP PROCEDURE user_add